# تعليمات نشر التطبيق على Render.com

## الخطوات

### 1. إنشاء قاعدة البيانات PostgreSQL
1. قم بتسجيل الدخول إلى حسابك على [Render.com](https://render.com)
2. اضغط على "New +" واختر "PostgreSQL"
3. املأ المعلومات التالية:
   - Name: اختر اسماً لقاعدة البيانات
   - Database: const
   - User: adminroot
   - Region: اختر المنطقة الأقرب إليك
4. اضغط على "Create Database"
5. احتفظ بمعلومات الاتصال التي ستظهر لك، وخاصة:
   - Internal Database URL
   - External Database URL

### 2. إعداد المستودع على GitHub
1. تأكد من أن مشروعك على GitHub
2. تأكد من وجود الملفات التالية:
   - `package.json`
   - `server.js`
   - `db.js`

### 3. إنشاء خدمة ويب على Render.com
1. اضغط على "New +" واختر "Web Service"
2. اختر مستودع GitHub الخاص بك
3. املأ المعلومات التالية:
   - Name: اسم الخدمة
   - Region: نفس منطقة قاعدة البيانات
   - Branch: main (أو الفرع الذي تريد النشر منه)
   - Root Directory: اتركه فارغاً
   - Runtime: Node
   - Build Command: `npm install && npm run build`
   - Start Command: `npm start`

### 4. إعداد المتغيرات البيئية
اضغط على "Environment" وأضف المتغيرات التالية:
```
NODE_ENV=production
PORT=3000
DATABASE_URL=postgresql://adminroot:N0eJCE9yzyGVVWmCR1IjrJTlNcVku416@dpg-d0cq6b6mcj7s73ar78l0-a.oregon-postgres.render.com/const
```

### 5. النشر التلقائي
- سيتم نشر التطبيق تلقائياً عند كل دفع (push) إلى الفرع المحدد
- يمكنك متابعة عملية النشر من خلال تبويب "Deploys"

### 6. الوصول إلى التطبيق
- بعد اكتمال النشر، يمكنك الوصول إلى تطبيقك من خلال الرابط الذي يوفره Render
- الرابط سيكون بالشكل: `https://your-app-name.onrender.com`

## ملاحظات هامة
1. تأكد من أن التطبيق يستخدم المتغيرات البيئية للاتصال بقاعدة البيانات
2. تأكد من أن جميع التبعيات (dependencies) مذكورة في ملف `package.json`
3. تأكد من أن الملفات الثابتة (static files) يتم خدمتها بشكل صحيح في وضع الإنتاج
4. راجع السجلات (logs) في حال وجود أي مشاكل في النشر

## حل المشاكل الشائعة
1. إذا فشل النشر:
   - راجع سجلات البناء (build logs)
   - تأكد من صحة أوامر البناء والتشغيل
   - تأكد من وجود جميع الملفات المطلوبة

2. إذا لم يتصل التطبيق بقاعدة البيانات:
   - تأكد من صحة متغير `DATABASE_URL`
   - تأكد من أن قاعدة البيانات تعمل
   - راجع إعدادات SSL في اتصال قاعدة البيانات

3. إذا لم تظهر الواجهة الأمامية:
   - تأكد من اكتمال عملية البناء
   - تأكد من صحة مسار الملفات الثابتة
   - راجع إعدادات `express.static` و `app.get('*')`
